<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>jQuery UI Datepicker - Display multiple months</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
    <style>
        .ui-datepicker {
            background: #000;
        }

        .ui-datepicker-header {
            background: #f2f2f2;
            color: #333333;
        }

        .ui-datepicker-prev,
        .ui-datepicker-next {
            color: #333333;
        }

        .ui-datepicker-calendar {
            border-color: #cccccc;
        }

        .ui-datepicker-today {
            background: #dadada;
        }

        .ui-datepicker-buttonpane {
            background: #f2f2f2;
        }
    </style>

</head>

<body>

    <select class="date-select" id="start-year"></select>/
    <select class="date-select" id="start-month"></select>/
    <select class="date-select" id="start-day"></select>
    <!-- <span class="calendar-button" id="start-calendar">📅</span> -->
    </div>
    ~
    <div id="end-date-select">
        <select class="date-select" id="end-year"></select>/
        <select class="date-select" id="end-month"></select>/
        <select class="date-select" id="end-day"></select>
        <span class="calendar-button" id="datepicker">📅</span>
        <!-- <input type="hidden" id="datepicker"> -->
        <script>
            $(function () {
    // 시작일과 종료일을 저장할 변수
    var startDate;
    var endDate;

    $(function () {
    var startDate;
    var endDate;

    var startPicker = $("#start-calendar").datepicker({
        numberOfMonths: 1,
        showButtonPanel: true,
        onSelect: function (dateText, inst) {
            startDate = $(this).datepicker('getDate');
            $('#start-year').val(startDate.getFullYear());
            $('#start-month').val(startDate.getMonth() + 1);
            $('#start-day').val(startDate.getDate());
        }
    });

    var endPicker = $("#end-calendar").datepicker({
        numberOfMonths: 1,
        showButtonPanel: true,
        onSelect: function (dateText, inst) {
            endDate = $(this).datepicker('getDate');
            $('#end-year').val(endDate.getFullYear());
            $('#end-month').val(endDate.getMonth() + 1);
            $('#end-day').val(endDate.getDate());
        }
    });
});

    // Datepicker 설정
    var datepicker = $("#datepicker").datepicker({
        numberOfMonths: 2,
        showButtonPanel: true,
        beforeShowDay: function(date) {
            var month = date.getMonth() + 1;
            if ((startDate && date.getTime() == startDate.getTime()) ||
                (endDate && date.getTime() == endDate.getTime())) {
                return [true, "ui-datepicker-current-day"];
            } else if ((startDate && date.getTime() > startDate.getTime()) ||
                       (endDate && date.getTime() < endDate.getTime())) {
                return [false, ""];
            } else if (month % 2 == 1) {
                return [true, ""];
            } else {
                return [false, ""];
            }
        },
        onSelect: function (dateText, inst) {
            var date = $(this).datepicker('getDate');
            var month = date.getMonth() + 1;
            if (month % 2 == 1) {
                startDate = date;
                $('#start-year').val(startDate.getFullYear());
                $('#start-month').val(month);
                $('#start-day').val(startDate.getDate());
            } else {
                endDate = date;
                $('#end-year').val(endDate.getFullYear());
                $('#end-month').val(month);
                $('#end-day').val(endDate.getDate());
                $(this).datepicker('hide');
            }
        },
        onClose: function () {
            startDate = null;
            endDate = null;
        }
    });

    $('#end-calendar').click(function (e) {
        e.preventDefault();
        datepicker.datepicker("dialog", null, function () { }, {}, {
            my: "right top",
            at: "right bottom",
            of: this
        });
        return false;
    });
});
        </script>
</body>

</html>