

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CustomerList</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <style>
        /* 메인 헤더영역 사이즈 조절 및 콘텐츠 조절 */
        #main_header {
            font-size: 1.6em;
            width: 100%;
            /* height: 90%; */
            background-color: #e9e3e3;
            display: flex;
        }

        /* 메뉴title 거래처리스트 */
        #customer_list_title {
            width: 50%;
            margin-left: 3%;
        }

        /* 거래처 검색 */
        #customer_list_search {
            width: 50%;
            /* border: 1px solid blue; 크기 확인 */
            display: flex;
            align-items: center;
            justify-content: right;
            
        }
         /* 검색창 사이즈 조절 */
         .customer_list_search_text {
            width: 20%;
            height: 3%;
            position: absolute;
            margin-right:4%;
        }

        /* 검색 아이콘 사이즈 조절 */
        .customer_list_search_img {
            width: 2%;     
            position: relative;
            margin-right: 10%;
        }

        /* 메인 사이즈 조절 */
        #main_content {
            width: 100%;
            background-color: #e9e3e3;
            display: flex;
            justify-content: center;
            align-items: center;
        }
         /* 거래처 테이블 조절*/
         #customer_board {
            width: 95%;
            border-collapse: collapse;
            text-align: center;
        }
        /* 테이블간격 조절 및 선 두께 설정 */
        th, td {
        padding: 0.8%;
        border: 1px solid rgba(170, 165, 165, 0.826);
        }


        
        
        /* 거래처 등록 팝업 위치 fixed 및 크기등 조절 */
        #customer_new_register {
            display: none;
            width: 50%;
            max-height: 80%;
            background-color : #e0dcdc;
            border-radius: 1%;
            position: fixed;
            top : 10%;
            right : 20%;       
            overflow-y: auto;      
        }
         /* 거래처 신규등록 및 수정 파란창 */
         #customer_title{
            font-size: 1.5em;
            background-color:  rgb(17, 92, 213);
            border-top-left-radius: 1% ;
            border-top-right-radius: 1% ;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-left : 2%;
        }

         /* popup 테이블 구역 wrap */
         #table_wrap{
            width: 90%;
            height: 70%;
            background-color: #fff;
            /* position :absolute; */
            margin: 0 auto;      
            border : 1px solid transparent;
            border-radius: 5px;
        }
        #new_customer{
            width:100%;
            padding : 3px;
        }
        /* #close_icon{
            width : 50px;
            닫기 아이콘
        } */
        #pop_title{
            height : 7%;
            font-size: 1.0em;
            font-weight: bold;
            margin : 1% 0 1% 5%;
        }
        #new_customer .text{
            width : 100%;
            border: 1px solid rgb(217, 217, 236);
            border-radius: 5px;
        } 

        #new_customer .text:focus{
            outline : 1px solid rgb(50, 50, 230);
        }

        /*  팝업 테이블 선 없애기 */
        #new_customer td, tr{
            font-size: 0.9em;
            border-right: none;
            border-left: none;
            border-top: none;
            border-bottom: none;
        }
       

        /* 팝업 버튼 설정 */
        #setting_button{
            margin : 2% 0 2% 5%;
        }

        /* 메인버튼 */
        #main_button{
            display: flex;
            justify-content: center;
            align-items: center;
        }
 
         /* footer */
        /* 페이지 넘버 */
        #blank{
            height: 50px;
        }
        .pageNumber{
            text-align: center;
            line-height: 60px;
            background-color: #e2e5e3;
            height : 70px;
        }
        .pageNumber a{
            text-decoration: none;        
            width : 30px;
            height : 30px;        
            padding : 10px;       
        }
        .pageNumber a:hover{
            border : 1px solid blue;
        }
    </style>

    <script>
       window.addEventListener('load', function() {
        // div pop-up function
        let customer_new_register = document.getElementById("customer_new_register");
          document.getElementById("new_register").addEventListener("click", function(){
          customer_new_register.style.display = "block";
    });

          document.getElementById("close").addEventListener("click", function(){
          customer_new_register.style.display = "none";
    });
        // 
         document.getElementById("save").addEventListener("click", function(){
        let new_row = customer_board.insertRow(-1);

        let checkbox_cell = new_row.insertCell(0);
        let checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox_cell.appendChild(checkbox);

        let customer_code = document.querySelector("#customer_code").value;
        let code_cell = new_row.insertCell(1);
        code_cell.textContent = customer_code;

        let customer_name = document.querySelector("#customer_name").value;
        code_cell = new_row.insertCell(2);
        code_cell.textContent = customer_name;

        let ceo_name = document.querySelector("#ceo_name").value;
        code_cell = new_row.insertCell(3);
        code_cell.textContent = ceo_name;

        let tel_no = document.querySelector("#tel_no").value;
        code_cell = new_row.insertCell(4);
        code_cell.textContent = tel_no;

        let phone_no = document.querySelector("#phone_no").value;
        code_cell = new_row.insertCell(5);
        code_cell.textContent = phone_no;

        let useable = document.querySelector('input[name="use"]:checked').value;
        code_cell = new_row.insertCell(6);
        code_cell.textContent = useable;
        

        // let customer_new_register = document.getElementById("customer_new_register");
        // customer_new_register.style.display = "none";


    });


       });
    // 팝업 이동 jquery
        $( function() {
            $( "#customer_new_register" ).draggable();
        });
    
    // ajax로 사업자 번호 가져오기 


    // let url = "#";
    // url += "?";
    // url += "servicekey=" + "y4hEQwtYcmCk21BLxY%2FxX0dkfcHAqPKVY3d2dpTr08wACC8A9oYVAYV%2FI6BYT86j1Sm4BtNyjs1mt60wpbqR1g%3D%3D";
    // url += "&";
    // url += "type=json";
    // url += "&";
    // url += "numOfRows=100";

    // function business_number(){
    // let xhr = new XMLHttpRequest();
    // xhr.open("get",url);
    // xhr.send();
    // xhr.onload = function(){
    //     let data = xhr.responseText;
    //     console.log(data);

    //     let json = JSON.parse(data);
    // }
    // }
    // window.addEventListener('load', function(){ 
    //     let license = document.queryselector
    // })


//     function business_number(){
//         let num = document.getElementById('license').value; // 사업자 번호
//         const data = {
//             b_no : [num] //폼 넘버 가져오기 - 기본형식
//         };
//         console.log(data);
    
//     $.ajax({
//         url : "인증키주소",
//         type : "post",
//         data : JSON.stringify(data), // json을 string으로 변환하여 전송
//         dataType : "JSON",
//         contentType : "application/json",
//         success : function(result){
//             console.log(result.data[0]['b_stt_Cd']);
//             let valid = result.data[0]['b_stt_cd'];

//             if(valid == '01'){
//                 msg1();
//             }else{
//                 msg2();
//             }
//         },
//         error : function(result){
//             console.log(result.responseText); // 서버에 요청하여 응답으로 받은 데이터를 문자열로 반환
//         }
//     });
// }
    function msg1(){
        let msg = document.getElementById('regimessage');
        msg.innerHTML = "등록된 사업자입니다."
    }
    // 오류시
    function msg2(){
        let msg = document.getElementById('regimessage');
        msg.innerHTML = "등록되지 않은 사업자입니다.\n 다시 확인해주세요"
    }
    </script>
</head>

<body>
    <!-- 전체를 감싸는 wrap -->
  
    <div class="mainBox">
        <!-- 헤더부터 메인 전까지 -->
        <div class="left-box">
            <div id="header">
                <ul>
                    <li><img src="https://cdn.discordapp.com/attachments/1200318999112720424/1201064896067027005/logo.png?ex=65c875d9&is=65b600d9&hm=55487b27a7ecacb2ffd64c59fe79a41e913f7edeedd13408b63d946d9881f2ef&"
                            id="icon"></li>
                    <li id="li_search">
                        <div id="search">
                            <div id="search_size">
                                <input type="text" id="search_txt" value="" placeholder="검색어를 입력해 주세요">
                            </div>
                            <div id="search_img">
                                <img src="C:/project_alphaknow/mainPage/img/search.avif" id="search_img1">
                            </div>
                        </div>
                    </li>
                    <li id="li_userIcon">
                        <img src="https://cdn.discordapp.com/attachments/1200318999112720424/1201065133032603728/images.png?ex=65c87612&is=65b60112&hm=95076b8a0faabe229206bc26c9526afd452159f8d6f562ba9f7cad7a0d01bfb0&"
                            id="userIcon">
                    </li>
                </ul>
            </div>
            <div id="menuBoard">
                <div><a href="mainPage.html">마이페이지</a></div>
                <div id="moniter">
                    모니터링
                </div>
                <div>공정기준정보</div>
                <div>생산계획관리</div>
                <div>생산실적관리</div>
                <div>예측분석관리</div>
                <div>재고관리</div>
                <div>입고관리</div>

            </div>
            <div id="monitering">
                <div id="moniter1"><a href="../mainPage/monitering(euqipment)/monitering(equipment).html">모니터링(장비)</a>
                </div>
                <div id="moniter2"><a href="#">가동률현황</a></div>
                <div id="moniter3"><a href="#">원가현황</a></div>
                <div id="moniter4"><a href="#">불량현황</a></div>
                <div id="moniter5"><a href="#">비가동현황</a></div>
            </div>
            <div id="content">
         
                <div id="main_header">
                    <div id="customer_list_title"> 거래처 리스트 </div>
                    <div id="customer_list_search">
                        <input type="text" class="customer_list_search_text" value="" placeholder="입력 후 enter">
                        <img src="https://cdn-icons-png.freepik.com/512/2311/2311526.png?ga=GA1.1.1347059133.1702859932&"
                            class="customer_list_search_img" alt="검색">
                    </div>
                </div>
                <!-- 메인시작 -->
                <div id="main_content">
                    <table id="customer_board">
                        <!-- 테이블 너비 조절 -->
                        <colgroup>
                            <col style = "width:5%"/>
                            <col style = "width:10%"/>
                            <col style = "width:30%"/>
                            <col style = "width:15%"/>
                            <col style = "width:15%"/>
                            <col style = "width:15%"/>
                            <col style = "width:10%"/>

                        </colgroup>
                        <thead>
                            <tr>
                                <th><input type="checkbox"></th>
                                <th>거래처코드</th>
                                <th>거래처명</th>
                                <th>대표자명</th>
                                <th>전화</th>
                                <th>담당자 번호</th>
                                <th>사용구분</th>
                            </tr>

                        </thead>
                        <tbody>
                            <!-- 게시물 추가 예정 -->
                        </tbody>

                    </table>

                </div>
                <div id="main_button">
                    <!-- 신규등록 및 수정버튼-->
                    <button id="new_register">신규등록</button>
                    <button id="edit">수정하기</button>

                    <!-- 거래처 신규등록 및 수정 팝업 div -->
                    <div id="customer_new_register"> 
                        <div id = "customer_title">거래처등록(수정)
                        
                        <!-- 이미지 넣기<img id ="close_icon" src="https://images-ext-1.discordapp.net/external/2wxOzU_u31lZ2Gy1ymL2C93sDKD_G1VOeeBPynOlkh4/https/e1.pngegg.com/pngimages/288/836/png-clipart-black-n-white-x-mark.png?format=webp&quality=lossless&width=705&height=401"> -->
                        
                        </div>
                        <div id = "pop_title">거래처등록(수정)</div>                            
                        <!-- 거래처 등록 및 수정 table -->
                            <div id="table_wrap">
                                
                            <table id = "new_customer">
                                <colgroup>
                                <col style = "width : 20%"/>
                                <col style = "width : 80%"/>
                                </colgroup>
                                <tr>
                                    <td>거래처코드</td>
                                    <td colspan="2">
                                        <input type = "text" class="text" id="customer_code" placeholder = "사업자번호입력"autofocus>
                                        <button type = "button">사업자번호조회</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>상호(이름)</td>
                                    <td><input type = "text" class="text" id="customer_name"></td>
                                </tr>
                                <tr>
                                    <td>대표자명</td>
                                    <td><input type = "text" class="text" id="ceo_name"></td>
                                </tr>
                                <tr>
                                    <td>업태</td>
                                    <td><input type = "text" class="text"></td>
                                </tr>
                                <tr>
                                    <td>전화</td>
                                    <td><input type = "text" class="text" id="tel_no"></td>
                                </tr>
                                <tr>
                                    <td>담당자번호</td>
                                    <td><input type = "text" class="text" id="phone_no"></td>
                                </tr>
                                <tr>
                                    <td>Fax</td>
                                    <td><input type = "text" class="text"></td>
                                </tr>
                                <tr>
                                    <td>Email</td>
                                    <td><input type = "text" class="text"></td>
                                </tr>
                                <tr>
                                    <td> 주소1 우편번호	</td>
                                    <td colspan="2">
                                        <button type = "button">주소검색</button>
                                        <input type = "text" class="text">
                                    </td>
                                </tr>
                                <tr>
                                    <td> 주소1	</td>
                                    <td><input type = "text" class="text"></td>
                                </tr>
                                <tr>
                                    <td> 사용구분</td>
                                    <td colspan="2">
                                       <input type = "radio" name = "use" value="Yes">Yes
                                      <input type = "radio" name = "use" value="No">No
                                    </td>
                                </tr>

                            </table>
                        </div>
                        <div id ="setting_button">
                        <button id="save">저장</button>
                        <button id="reset">다시쓰기</button><!--type submit 으로 수정-->
                      
                        <button id="close">닫기</button>
                        </div>    
                    </div>

                    </div>
                    <div id = "footer">
                        <!-- 페이지 넘버 -->
                        <div id = "pagination_wrap">
                            <ul class = "pagination">
                                <li class = "first_page">
                                    <a href = "#"></a>
                                </li>

                            </ul>
                        
                        </div>

                    </div>
                   

            </div>
            
        </div>
</body>

</html>